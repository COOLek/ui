block('buttons')(
    content()(function() {

        var blocks = [
            {
                block: 'button',
                text: 'Button'
            },
            {
                block: 'button',
                mods: { view: 'action' },
                text: 'Button'
            },
            {
                block: 'button',
                mods: { view: 'pseudo' },
                text: 'Button'
            },
            {
                block: 'button',
                mods: { disabled: true },
                text: 'Button'
            },
            {
                block: 'button',
                text: 'Button',
                icon: { block: 'icon', mods: { action: 'download' } }
            },
            {
                block: 'button',
                icon: {
                    block: 'spin',
                    mods: { theme: 'alfa', bkg: 'color', size: 'xs', visible: true }
                },
                text: 'Loading...'
            }

        ];

        return {
            block: 'row',
            content: ['color', 'white'].map(function(bkg) {
                return {
                    elem: 'col',
                    mods: { 's': true },
                    mix: { elem: bkg },
                    content: ['s', 'm', 'l', 'xl'].map(function(size) {
                        return {
                            elem: 'size-section',
                            content: [
                                {
                                    block: 'row',
                                    content: [
                                        {
                                            elem: 'col',
                                            mods: { 's': true },
                                            content: [
                                                {
                                                    elem: 'sidebar',
                                                    content: size
                                                },
                                                {
                                                    elem: 'content',
                                                    content: blocks.map(function(block) {
                                                        if (!block.mods) block.mods = {};

                                                        block.mods.theme = 'alfa';
                                                        block.mods.bkg = bkg;
                                                        block.mods.size = size;

                                                        return {
                                                            block: 'controls',
                                                            content: JSON.parse(JSON.stringify(block))
                                                        };
                                                    })
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        };
                    })
                };
            })
        };
    })
);
